version: 2

models:
  - name: stg_reddit_posts_comments
    description: "raw reddit posts comments from s3"
    columns:
      - name: post_id
        description: "The primary key for this table"
        data_tests:
          # this tests if the the column in table doesn't contain any nulls 
          - not_null
          
    data_tests:
      - dbt_utils.unique_combination_of_columns:
          arguments: # available in v1.10.5 and higher. Older versions can set the <argument_name> as the top-level property.
            combination_of_columns:
              - post_id
              - comment_id
              - comment_parent_id_full



  - name: stg_reddit_posts
    description: "raw reddit posts from s3"
    columns:
      - name: post_id
        description: "The primary key for this table"
        data_tests:
          # this tests if the the column in table doesn't contain any nulls 
          - not_null